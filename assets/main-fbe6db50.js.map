{"version":3,"file":"main-fbe6db50.js","sources":["../../src/js/support.js","../../src/js/header.js","../../src/js/rendering-books.js","../../src/js/fetch-api.js","../../src/js/books.js","../../src/js/feature.js"],"sourcesContent":["import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\n\n\nconst swiper = new Swiper('.swiper', {\n  direction: 'vertical',\n    loop: false,\n  speed: 100,\n  slidesPerView: 6,\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n    },\n  mousewheel: {\n    invert: true,\n    },\n  shortSwipes: false,\n navigation: {\nnextEl: '.swiper-button-next',\nprevEl: '.swiper-button-prev',\n},\n\n});\n","// ==============================================================\n\nconst refs = {\n  body: document.querySelector('body'),\n  burger: document.querySelector('.header-btn-burgher'),\n  headerNav: document.querySelector('.header-menu'),\n  headerLink: document.querySelectorAll('.header-nav-item-modal'),\n\n  logo: document.querySelector('.header-logo'),\n  home: document.querySelector('.header-home'),\n  shopping: document.querySelector('.header-shopping'),\n  homeMobal: document.querySelector('.header-home-modal'),\n  shoppingMobal: document.querySelector('.header-shopping-modal'),\n};\n\n// ========================= Bugrer =========================\n\nfunction handleHeaderLinkClick() {\n  refs.burger.classList.toggle('active');\n  refs.headerNav.classList.toggle('active');\n  refs.body.classList.toggle('lock');\n}\n\nrefs.burger.addEventListener('click', handleHeaderLinkClick);\n\n// =========================== Home and Shopping ===========================\n\nfunction handleHomeClick() {\n  localStorage.setItem('isActive', 'home');\n}\nrefs.logo.addEventListener('click', handleHomeClick);\nrefs.home.addEventListener('click', handleHomeClick);\nrefs.homeMobal.addEventListener('click', handleHomeClick);\n\nfunction handleShoppingClick() {\n  localStorage.setItem('isActive', 'shopping');\n}\nrefs.shopping.addEventListener('click', handleShoppingClick);\nrefs.shoppingMobal.addEventListener('click', handleShoppingClick);\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const activeElement = localStorage.getItem('isActive');\n  refs.home.classList.add('active');\n  refs.homeMobal.classList.add('active');\n\n  if (activeElement === 'home') {\n    refs.home.classList.add('active');\n    refs.shopping.classList.remove('active');\n\n    refs.homeMobal.classList.add('active');\n    refs.shoppingMobal.classList.remove('active');\n  } else if (activeElement === 'shopping') {\n    refs.home.classList.remove('active');\n    refs.shopping.classList.add('active');\n\n    refs.homeMobal.classList.remove('active');\n    refs.shoppingMobal.classList.add('active');\n  }\n});\n","//Render top books\nexport const renderTop = (data, booksPerRow) => {;\n    const categoriesTop = data.map(el => {\n        const catName = el.list_name;\n        const books = renderOneBook(el.books.slice(0, booksPerRow))\n        return `<div class=\"books-category-container\">\n        <h3 class=\"books-category-title\">${catName}</h3>\n        <ul class=\"books-list\">${books}</ul>\n        <div class=\"books-btn-container\">\n          <button data-catname=\"${catName}\" type=\"button\" class=\"books-btn\">see more</button>\n        </div>\n      </div>`;\n    }).join('');\n\n    return `<div class=\"books-container\"><h2 class=\"books-title\">Best Sellers Books</h2>${categoriesTop}</div>`;\n}\n\n//Render categories\nexport const renderCategories = (data) => {\n  const categoriesItems = data.map(el => {\n    return `<li class=\"categories-list\">\n      <a href=\"#\" data-catname=\"${el.list_name}\" class=\"categories-nav\">${el.list_name}</a>\n    </li>`;\n  }).join('');\n\n  return `<li class=\"categories-list\">\n  <a href=\"#\" data-catname=\"\" class=\"categories-nav active\">All categories</a>\n  </li>${categoriesItems}`;\n}\n\n//Render category books\nexport const renderCategory = (data, categoryName) => {\n    const books = renderOneBook(data)\n    const categoryHtml = `<div class=\"books-container\">\n    <h2 class=\"books-title\">${categoryName}</h2>\n    <div class=\"books-category-container\">\n      <ul class=\"books-list\">${books}</ul>\n    </div>\n  </div>`;\n\n    return categoryHtml;\n}\n\n//Render one book\nfunction renderOneBook(books) {\n    const booksRendered = books.map(el => {\n        const id = el._id;\n        const image = el.book_image;\n        const title = el.title;\n        const authoe = el.author;\n        return `<li class=\"books-item\">\n        <div class=\"books-wrapper\">\n          <img\n            class=\"books-img\"\n            src=\"${image}\"\n            alt=\"${image}\"\n          />\n          <a href=\"#\" data-id=\"${id}\" class=\"books-overlay\">\n            <p class=\"books-overlay-text\">QUICK VIEW</p>\n          </a>\n        </div>\n        <div class=\"books-info\">\n          <p class=\"books-info-title\">${title}</p>\n          <p class=\"books-info-author\">${authoe}</p>\n        </div>\n      </li>`;\n    }).join('');\n\n    return booksRendered;\n} ","import axios from 'axios';\nimport { renderTop, renderCategories, renderCategory } from './rendering-books';\n\nconst BASEURL = 'https://books-backend.p.goit.global';\n\n//Fatch for top books\nexport const fetchGeneral = async (booksPerRow) => {\n    const endpoint = '/books/top-books/'\n    const fetchUrl = BASEURL+endpoint;\n\n    try {\n        const response = await axios.get(fetchUrl);\n        return renderTop(response.data, booksPerRow);\n    } catch(error) {\n        console.log(error);\n    }\n}\n\n//Fatch for categories\nexport const fetchCategories = async () => {\n    const endpoint = '/books/category-list/'\n    const fetchUrl = BASEURL+endpoint;\n\n    try {\n        const response = await axios.get(fetchUrl);\n        return renderCategories(response.data);\n    } catch(error) {\n        console.log(error);\n    }\n}\n\n//Fatch for categories books\nexport const fetchCategory = async (categoryName) => {\n    const endpoint = '/books/category/'\n    const fetchUrl = BASEURL+endpoint;\n    const params = {\n        category : categoryName,\n    }\n\n    try {\n        const response = await axios.get(fetchUrl, {params});\n        return renderCategory(response.data, categoryName);\n    } catch(error) {\n        console.log(error);\n    }\n}","import { fetchGeneral, fetchCategories, fetchCategory } from './fetch-api';\n\n\n//Containers\nconst booksContainer = document.querySelector('.books-container');\nconst catsContainer = document.querySelector('.categories-menu');\n\n\n// ==============================================================\n//Function for display books\nexport async function displayTop() {\n     const windowWidth = window.innerWidth;\n     const booksPerRow = booksPerRowFunc(windowWidth);\n     const renderedTop = await fetchGeneral(booksPerRow);\n\n     booksContainer.innerHTML = renderedTop;\n     wrapLastWord();\n};\n\n\n// ==============================================================\n//Function for display categories\nexport async function displayCategories() {\n    const renderedCats = await fetchCategories();\n\n    catsContainer.innerHTML = renderedCats;\n};\n\n\n// ==============================================================\n//Function for display category books\nexport async function displayCategory(catName) {\n    const renderedCat = await fetchCategory(catName);\n\n     booksContainer.innerHTML = renderedCat;\n     wrapLastWord();\n}\n\n// ==============================================================\n//Function for wrapp last title word\nfunction wrapLastWord() {\n    const title = document.querySelector('.books-title');\n    const textContent = title.textContent.split(\" \");\n    const lastWord = textContent.pop();\n\n    const updatedContent = textContent.join(\" \") + (textContent.length > 0 ? ` <span>${lastWord}</span>` : lastWord);\n\n    title.innerHTML = updatedContent;\n}\n\n\n//Fontiono for detectiong books per row\nfunction booksPerRowFunc(windowWith) {\n    let booksCount = 3;\n\n    if(windowWith >= 1440) {\n        booksCount = 5;\n    } \n    \n    if(windowWith < 768) {\n        booksCount = 1;\n    }\n\n    return booksCount;\n}\n\n\n//function for change books display\nconst windowWidthStart = window.innerWidth;\nlet ctrlBreikpoint = booksPerRowFunc(windowWidthStart);\n\nasync function changeTopDisplay() {\n    const isAllCats = document.querySelector('.categories-nav.active').dataset.catname;\n\n    if(!isAllCats) {\n        const windowWidth = window.innerWidth;\n        const booksPerRow = booksPerRowFunc(windowWidth);\n\n        if(ctrlBreikpoint !== booksPerRow) {\n            ctrlBreikpoint = booksPerRow;\n            const renderedTop = await fetchGeneral(booksPerRow);\n\n            booksContainer.innerHTML = renderedTop;\n            wrapLastWord();\n        }\n    }\n}\n\n\n\n// ==============================================================\nif(booksContainer) {\n    displayTop();\n    displayCategories();\n\n    catsContainer.addEventListener('click', e => {\n        e.preventDefault();\n    \n        const target = e.target;\n    \n        if(target.tagName === 'A') {\n            const catName = target.dataset.catname;\n    \n            catsContainer.querySelector('.active').classList.remove('active');\n            target.classList.add('active');\n            \n            if(catName) {\n                displayCategory(catName);\n            } else {\n                displayTop();\n            }\n        }\n    });\n    \n    booksContainer.addEventListener('click', e => {\n        e.preventDefault();\n    \n        const target = e.target;\n    \n        if(target.classList.contains('books-btn')) {\n            const catName = target.dataset.catname;\n    \n            catsContainer.querySelector('.active').classList.remove('active');\n            catsContainer.querySelector('[data-catname=\"'+catName+'\"]').classList.add('active');\n            \n            displayCategory(catName);\n        }\n    });\n\n\n    window.addEventListener(\"resize\", changeTopDisplay);\n}","// ==========================================================\n\nconst toggleBtn = document.querySelector('.toggle-checkbox');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (localStorage.getItem('theme') === 'theme-dark') {\n    setTheme('theme-dark');\n    toggleBtn.checked = true;\n  }\n});\n\nfunction setTheme(themeName) {\n  localStorage.setItem('theme', themeName);\n  const root = document.documentElement;\n  root.setAttribute('data-theme', themeName);\n}\n\nexport const toggle = toggleBtn.addEventListener('click', () => {\n  if (localStorage.getItem('theme') === 'theme-dark') {\n    setTheme('theme-light');\n  } else {\n    setTheme('theme-dark');\n  }\n});\n\n// ===============================================================\n\n// const scrollToTopBtn = document.querySelector('.scroll-up');\n\n// window.addEventListener('scroll', () => {\n//   if (window.scrollY > 120) {\n//     scrollToTopBtn.classList.add('show');\n//   } else {\n//     scrollToTopBtn.classList.remove('show');\n//   }\n// });\n\n// export const scroll = () => {\n//   window.scrollTo({\n//     top: 0,\n//     behavior: 'smooth',\n//   });\n// };\n\n// scrollToTopBtn.addEventListener('click', scroll);\n\n// ===============================================================\n"],"names":["Swiper","refs","handleHeaderLinkClick","handleHomeClick","handleShoppingClick","activeElement","renderTop","data","booksPerRow","el","catName","books","renderOneBook","renderCategories","renderCategory","categoryName","id","image","title","authoe","BASEURL","fetchGeneral","fetchUrl","response","axios","error","fetchCategories","fetchCategory","params","booksContainer","catsContainer","displayTop","windowWidth","booksPerRowFunc","renderedTop","wrapLastWord","displayCategories","renderedCats","displayCategory","renderedCat","textContent","lastWord","updatedContent","windowWith","booksCount","windowWidthStart","ctrlBreikpoint","changeTopDisplay","target","toggleBtn","setTheme","themeName"],"mappings":"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"}