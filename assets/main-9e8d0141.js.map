{"version":3,"file":"main-9e8d0141.js","sources":["../../src/js/feature.js","../../src/img/icons.svg","../../src/js/rendering-books.js","../../src/js/fetch-api.js","../../src/js/authorization-functions.js","../../src/img/shopping/amazon.png","../../src/img/shopping/book-apple.png","../../src/js/pagination.js","../../src/js/shopping.js","../../src/js/authorization.js","../../src/js/local-storage.js","../../src/js/header.js","../../src/js/support.js","../../src/js/popup.js","../../src/js/books.js"],"sourcesContent":["// ==========================================================\n\nconst toggleBtn = document.querySelector('.toggle-checkbox');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (localStorage.getItem('theme') === 'theme-dark') {\n    setTheme('theme-dark');\n    toggleBtn.checked = true;\n  }\n});\n\nfunction setTheme(themeName) {\n  localStorage.setItem('theme', themeName);\n  const root = document.documentElement;\n  root.setAttribute('data-theme', themeName);\n}\n\nexport const toggle = toggleBtn.addEventListener('click', () => {\n  if (localStorage.getItem('theme') === 'theme-dark') {\n    setTheme('theme-light');\n  } else {\n    setTheme('theme-dark');\n  }\n});\n\n// ===============================================================\n\nconst scrollToTopBtn = document.querySelector('.scroll-up');\nlet lastScrollTop = 0;\n\nwindow.addEventListener('scroll', () => {\n  let currentScroll = window.pageYOffset || document.documentElement.scrollTop;\n  let isScrollingUp = currentScroll < lastScrollTop;\n\n  if (isScrollingUp && currentScroll > 120) {\n    scrollToTopBtn.classList.add('show');\n  } else {\n    scrollToTopBtn.classList.remove('show');\n  }\n\n  lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;\n});\n\nscrollToTopBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n\n// ===============================================================\n","export default \"__VITE_ASSET__664e397c__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport icon from '../img/icons.svg';\n\n//Render top books\nexport const renderTop = (data, booksPerRow) => {\n  if (!data || data.length === 0) {\n    const emptyCategoryHtml = `<div class=\"books-container\"><h2 class=\"books-title\">Best Sellers Books</h2>\n    </div>${getEmtyCategoryHtml()}`;\n\n    return emptyCategoryHtml;\n  } else {\n    const categoriesTop = data\n      .map(el => {\n        const catName = el.list_name;\n        const books = renderOneBook(el.books.slice(0, booksPerRow));\n        return `<div class=\"books-category-container\">\n        <h3 class=\"books-category-title\">${catName}</h3>\n        <ul class=\"books-list\">${books}</ul>\n        <div class=\"books-btn-container\">\n          <button data-catname=\"${catName}\" type=\"button\" class=\"books-btn\">see more</button>\n        </div>\n      </div>`;\n      })\n      .join('');\n\n    return `<h2 class=\"books-title\">Best Sellers Books</h2>${categoriesTop}`;\n  }\n};\n\n//Render categories\nexport const renderCategories = data => {\n  const categoriesItems = data\n    .sort((a, b) => {\n      if (a.list_name < b.list_name) {\n        return -1;\n      }\n      if (a.list_name > b.list_name) {\n        return 1;\n      }\n      return 0;\n    })\n    .map(el => {\n      return `<li class=\"categories-list\">\n      <a href=\"#\" data-catname=\"${el.list_name}\" class=\"categories-nav\">${el.list_name}</a>\n    </li>`;\n    })\n    .join('');\n\n  return `<li class=\"categories-list\">\n  <a href=\"#\" data-catname=\"\" class=\"categories-nav active\">All categories</a>\n  </li>${categoriesItems}`;\n};\n\nfunction getEmtyCategoryHtml() {\n  iziToast.error({\n    message: 'Sorry, no books found.',\n    position: 'topRight',\n    icon: null,\n  });\n\n  return `</div>\n  <div class=\"empty-category\">\n  <svg class=\"icon-shopp-stub\">\n    <use href=\"${icon}#icon-shopp-stub\"></use>\n    </svg>\n  <span>Nothing found</span>\n  </div>`;\n}\n\n//Render category books\nexport const renderCategory = (data, categoryName) => {\n  if (!data || data.length === 0) {\n    const emptyCategoryHtml = `<div class=\"books-container\">\n        <h2 class=\"books-title\">${categoryName}</h2>\n        </div>${getEmtyCategoryHtml()}`;\n\n    return emptyCategoryHtml;\n  } else {\n    const books = renderOneBook(data);\n    const categoryHtml = `<h2 class=\"books-title\">${categoryName}</h2>\n    <div class=\"books-category-container\">\n      <ul class=\"books-list\">${books}</ul>\n    </div>`;\n\n    return categoryHtml;\n  }\n};\n\n//Render one book\nfunction renderOneBook(books) {\n  const booksRendered = books\n    .map(el => {\n      const { _id, book_image, title, author } = el;\n      return `<li class=\"books-item\">\n        <div class=\"books-wrapper\">\n          <img\n            class=\"books-img\"\n            src=\"${book_image}\"\n            alt=\"${title}\"\n          />\n          <a href=\"#\" data-id=\"${_id}\" class=\"books-overlay\">\n            QUICK VIEW\n          </a>\n        </div>\n        <div class=\"books-info\">\n          <h4 class=\"books-info-title\">${title}</h4>\n          <p class=\"books-info-author\">${author}</p>\n        </div>\n      </li>`;\n    })\n    .join('');\n\n  return booksRendered;\n}\n","import axios from 'axios';\nimport { renderTop, renderCategories, renderCategory } from './rendering-books';\n\nconst BASEURL = 'https://books-backend.p.goit.global';\n\n//Fatch for top books\nlet savedFetch = JSON.parse(sessionStorage.getItem('savedfetch')) || '';\nexport const fetchGeneral = async booksPerRow => {\n  if (!savedFetch) {\n    const endpoint = '/books/top-books/';\n    const fetchUrl = BASEURL + endpoint;\n\n    try {\n      const response = await axios.get(fetchUrl);\n      sessionStorage.setItem('savedfetch', JSON.stringify(response.data));\n      savedFetch = response.data;\n      return renderTop(response.data, booksPerRow);\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    return renderTop(savedFetch, booksPerRow);\n  }\n};\n\n//Fatch for categories\nlet savedCatsFetch =\n  JSON.parse(sessionStorage.getItem('savedcategoriesfetch')) || '';\nexport const fetchCategories = async () => {\n  const endpoint = '/books/category-list/';\n  const fetchUrl = BASEURL + endpoint;\n\n  if (!savedCatsFetch) {\n    try {\n      const response = await axios.get(fetchUrl);\n      sessionStorage.setItem(\n        'savedcategoriesfetch',\n        JSON.stringify(response.data)\n      );\n      savedCatsFetch = response.data;\n      return renderCategories(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  } else {\n    return renderCategories(savedCatsFetch);\n  }\n};\n\n//Fatch for categories books\nexport const fetchCategory = async categoryName => {\n  const endpoint = '/books/category/';\n  const fetchUrl = BASEURL + endpoint;\n  const params = {\n    category: categoryName,\n  };\n\n  try {\n    const response = await axios.get(fetchUrl, { params });\n    return renderCategory(response.data, categoryName);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// повертає дані однієї книги по id\nexport const fetchBookById = async id => {\n  const endpoint = `/books/${id}`;\n  const fetchUrl = BASEURL + endpoint;\n\n  try {\n    const response = await axios.get(fetchUrl);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","const elements = {\n  body: document.querySelector('body'),\n  authen: document.querySelector('.authentication'),\n  authenClose: document.querySelector('.authentication-close'),\n\n  headerSubmitCont: document.querySelector('.authentication-buttons'),\n  headerSubmitContMob: document.querySelector('.authentication-buttons-mob'),\n  headerSubmit: document.querySelector('.header-btn-submit'),\n  headerSubmitModal: document.querySelector('.header-btn-submit-modal'),\n\n  signUpLink: document.querySelector('.authentication-signup'),\n  signInLink: document.querySelector('.authentication-signin'),\n};\n\nexport function toggleAuthen(open) {\n  elements.authen.classList.toggle('is-active', open);\n  elements.body.classList.toggle('authentication-open', open);\n}\n\nfunction showSignUpForm() {\n  const signUpForm = document.querySelector('.authentication-form-signup');\n  signUpForm.classList.remove('hide');\n  elements.signUpLink.classList.add('active');\n\n  const signInForm = document.querySelector('.authentication-form-signin');\n  signInForm.classList.add('hide');\n  elements.signInLink.classList.remove('active');\n}\n\nfunction showSignInForm() {\n  const signInForm = document.querySelector('.authentication-form-signin');\n  signInForm.classList.remove('hide');\n  elements.signInLink.classList.add('active');\n\n  const signUpForm = document.querySelector('.authentication-form-signup');\n  signUpForm.classList.add('hide');\n  elements.signUpLink.classList.remove('active');\n}\n\nif (elements.authen) {\n  elements.headerSubmitCont.addEventListener('click', e => {\n    const targetIs = e.target.classList.contains('header-btn-submit');\n    if (targetIs) {\n      toggleAuthen(true);\n    }\n  });\n  elements.headerSubmitContMob.addEventListener('click', e => {\n    const targetIs = e.target.classList.contains('header-btn-submit');\n    if (targetIs) {\n      toggleAuthen(true);\n    }\n  });\n  elements.authenClose.addEventListener('click', () => {\n    toggleAuthen(false);\n  });\n\n  elements.signUpLink.classList.add('active');\n\n  elements.signUpLink.addEventListener('click', () => {\n    event.preventDefault();\n    showSignUpForm();\n  });\n  elements.signInLink.addEventListener('click', () => {\n    event.preventDefault();\n    showSignInForm();\n  });\n}\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOASURBVHgB7VdLaBRBEH3Vm91V/KwK/mIOcQ/GXPwgQQ8qSLz4QUWEXMSLIHjLxd/FY0CCSrxoQJEc1VMgIDkYEURCVEyCEA8aI35WQ0STYEyyO132zOzOdk9mZicQbykYZrrnddXrV101u8CiuUZRL7kjvcWShb0EWiuAlORovG6CwFIiz+BviaT1ks5gCPMhwfdQx0g+UI/bsXA2TLP5RjqPEVQiwe3YyiLZC6JMcQbBXMPmI3F5Im6gs/kBHVE1ZwmlHqt1GWdtMM8K85G4pMroQ2ZsJSpHEDqicCd1kiXVqguQdlLNe+mZfe/C5kLwW6z29CE9rkGCmA4oKWw5wAH30rMfEzYXjhdH9LhGOhTLLAXJXLUCyB4FVS1TAws8PgJ8eaJYCxO3aT9oRRZIpMBTOWD0FfAnh4AMVYeSEExpZh++4TJoRzOQXqn5UPbjNWT3aWDiE7C8BnTwLqhmv4mZGQf3XQMPtqkd6o5puRFXH0hLjbX8U+1x0O6rBgHP1u9Sge8rnHJyrNMg4Fk6A9rXAsqegu5XMItQJcA+eZfVIMqoeg84Uw+sqY/EYcl69yyUTJopN0lYtmcqVzbHKMPV2ypj2Dlvjk92Q4ST8E5vEWxLXZEGVVVCuH5luTFIcDgJVyYydhArQEUQzBREKQFL2M2iiOJ46YhBdA6JSCXsd17gmG05Nglt7OsvPiXILdqS41hKxMSUlCAfIQQowZpsJFHZ4mBYOzts84goURtIPL+DGY8EGWfC7zbgYPoWl2z6N3hs2Cly2rQzGFPIg39+UNhx0Lo6YOmqIlGa06BCSSgV2KBpy/h1ALLrCjj3RjkquJNLVkHsPgfReNHbluy5Ae69Df77y+tGNllx4tb8qoMltL6m1r3tBPo6ysFd18DUOOTTVvWYcKZldwvk85tFCHl3/twPq22vUiRjpI2jzoRSYtILZDuaHNPfwm+yRxGp3Qfuf6Q+3wkEm0rx9GTZJzmbnQklYUnKGRVc8WAqwPtnTuu2K0nTylhq9z+vBTrVgY8+mmVLsOjSP7mxLvvLG/ATEAFj7w7u0eOSb1+Uv7BhSD3U4X8ZYSTV+n0zwpRwsmbJJiVZwW3hC3xJTDDR4bm8AowvbajNz8L+EZnFghkPsqCm9PXcO8Qh4S1r3lhvCdHALKvViUrO52+gXaEq/3kSNMoJfhEUfNH89g83+MD9ZjdiQAAAAABJRU5ErkJggg==\"","// ==============================================================\n\nimport { perPage } from './shopping';\nimport Pagination from 'tui-pagination';\nimport '../css/pagination.css';\n\nconst refs = {\n  emptyPage: document.querySelector('.empty-page'),\n  shoppingList: document.querySelector('.shopping-list'),\n  pagesContainer: document.querySelector('#pagination-wrapper'),\n};\n\n// ==============================================================\n\nfunction getVisiblePagesNumber() {\n  if (matchMedia('(min-width: 768px)').matches) {\n    return 3;\n  }\n\n  return 2;\n}\n\nexport function createButtonsPagination(selectedPage) {\n  const books = refs.shoppingList.querySelectorAll('.shopping-item');\n\n  const visiblePageNumber = getVisiblePagesNumber();\n  selectedPage = selectedPage ? selectedPage : 1;\n  const options = {\n    totalItems: books.length,\n    itemsPerPage: 3,\n    page: +selectedPage,\n    visiblePages: visiblePageNumber,\n    centerAlign: false,\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\"><span class=\"number-text\">{{page}}</span></a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}} custom-class-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\"></span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}} custom-class-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\"></span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip custom-class-{{type}}\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const totalPages = Math.ceil(books.length / options.itemsPerPage);\n\n  const instance = new Pagination(refs.pagesContainer, options);\n\n  instance.on('afterMove', function (eventData) {\n    options.page = eventData.page;\n    checkFirstPage();\n    checkPageNumberOfBooks(eventData.page);\n  });\n}\n\nexport function checkFirstPage() {\n  const bookCollection = Array.from(\n    refs.shoppingList.querySelectorAll('.shopping-item')\n  );\n\n  const firstPageBook = bookCollection.slice(0, 3);\n\n  firstPageBook.forEach(book => book.classList.remove('hidden'));\n}\n\nexport function checkPageNumberOfBooks(currentPage) {\n  const bookCollection = Array.from(\n    refs.shoppingList.querySelectorAll('.shopping-item')\n  );\n\n  const currentBooks = bookCollection.filter(book => {\n    return Number(book.dataset.pageNumber) === currentPage;\n  });\n\n  const notCurrentBook = bookCollection.filter(book => {\n    return Number(book.dataset.pageNumber) !== currentPage;\n  });\n\n  currentBooks.forEach(book => book.classList.remove('hidden'));\n  notCurrentBook.forEach(book => book.classList.add('hidden'));\n}\n\n// ==============================================================\n","// ==============================================================\n\nimport {\n  saveBookToLocalStorage,\n  removeBookFromLocalStorage,\n} from './local-storage';\n\nimport icon from '../img/icons.svg';\nimport amazon from '../img/shopping/amazon.png';\nimport apple from '../img/shopping/book-apple.png';\n\nimport {\n  createButtonsPagination,\n  checkPageNumberOfBooks,\n  checkFirstPage,\n} from './pagination';\nimport { getBooksJson } from './authorization';\n\nconst refs = {\n  emptyPage: document.querySelector('.empty-page'),\n  shoppingList: document.querySelector('.shopping-list'),\n  pagesContainer: document.querySelector('#pagination-wrapper'),\n};\n\nexport const perPage = 3;\n\n// ==============================================================\n\nexport async function checkIsThereElementOnPage() {\n  // refs.shoppingList.innerHTML = '<li class=\"loader-container\"><span class=\"loader\"></span></li>';\n\n  if (\n    refs.pagesContainer === null &&\n    refs.emptyPage === null &&\n    refs.shoppingList === null\n  ) {\n    return;\n  }\n\n  await islocalStorageEmpty();\n  isShoppingListEmpty();\n}\n\nasync function islocalStorageEmpty() {\n  const booksJson = await getBooksJson();\n  const books = JSON.parse(booksJson) || [];\n\n  if (books.length === 0) {\n    refs.emptyPage.classList.remove('hidden');\n    refs.shoppingList.innerHTML = '';\n    return;\n  }\n\n  refs.emptyPage.classList.add('hidden');\n  createMarkup(books);\n}\n\nfunction createMarkup(books) {\n  const elementsMarkup = books.map(book => {\n    return `<li class=\"shopping-item hidden\" data-book-id=\"${book._id}\">\n        <div class=\"shopping-photo\">\n          <img src=\"${book.book_image}\" alt=\"book cover\" />\n        </div>\n        <div class=\"shopping-content\">\n          <div>\n            <h4 class=\"shopping-subtitle\">${book.title}</h4>\n            <p class=\"genre\">${book.list_name}</p>\n            <p class=\"book-desc\">${book.description}</p>\n          </div>\n          <p class=\"shopping-author\">${book.author}</p>\n        </div>\n        <button type=\"button\" class=\"shopping-trash\">\n          <svg width=\"18\" height=\"18\" class=\"trash-icon\">\n            <use href=\"${icon}#icon-shopp-trash\"></use>\n          </svg>\n        </button>\n  \n        <div class=\"shop-buttons\">\n          <a href=\"#\" target=\"_blank\" class=\"shop-amazon\">\n            <img\n              src=\"${amazon}\"\n              alt=\"Logo of shop\"\n              width=\"62\"\n            />\n          </a>\n          <a href=\"#\" target=\"_blank\" class=\"shop-apple\">\n            <img\n              src=\"${apple}\"\n              alt=\"Logo of shop\"\n              width=\"33\"\n            />\n          </a>\n        </div>\n      </li>`;\n  });\n\n  markupRender(elementsMarkup);\n}\n\nlet bookCollection;\nfunction markupRender(elementsMarkup) {\n  const markup = elementsMarkup.join('');\n  refs.shoppingList.innerHTML = markup;\n\n  bookCollection = Array.from(\n    refs.shoppingList.querySelectorAll('.shopping-item')\n  );\n\n  addListenersToRemoveButtons();\n  checkFirstPage();\n  chunkArray(bookCollection, perPage);\n  checkQuantityElements();\n}\n\nfunction chunkArray(myArray, chunk_size) {\n  let index = 0;\n  let tempArray = [];\n\n  for (index = 0; index < myArray.length; index += chunk_size) {\n    let myChunk = myArray.slice(index, index + chunk_size);\n\n    tempArray.push(myChunk);\n  }\n\n  let pageNumber = 0;\n  let pageBooks = [];\n\n  for (let i = 0; i < tempArray.length; i += 1) {\n    pageNumber += 1;\n    pageBooks.push(addPageNumber(tempArray[i], pageNumber));\n  }\n\n  const result = pageBooks.flat();\n}\n\nfunction addPageNumber(booksGroup, pageNumber) {\n  let booksCollection = [];\n\n  booksGroup.forEach(book => {\n    book.dataset.pageNumber = pageNumber;\n    booksCollection.push(book);\n  });\n\n  return booksCollection;\n}\n\nfunction checkQuantityElements() {\n  const books = refs.shoppingList.querySelectorAll('.shopping-item');\n\n  if (books.length > 3) {\n    createButtonsPagination(1);\n  }\n}\n\nfunction addListenersToRemoveButtons() {\n  const booksCollection = refs.shoppingList.querySelectorAll('.shopping-item');\n\n  booksCollection.forEach(book => {\n    book.addEventListener('click', removeBook);\n  });\n}\n\nfunction removeBook(evt) {\n  if (\n    evt.target.classList.contains('shopping-trash') ||\n    evt.target.nodeName === 'use' ||\n    evt.target.nodeName === 'svg'\n  ) {\n    const currentBook = evt.currentTarget;\n    const bookId = evt.currentTarget.dataset.bookId;\n\n    removeBookFromLocalStorage(bookId);\n    currentBook.remove();\n\n    isShoppingListEmpty();\n  }\n}\n\nfunction paginationChange(selectedPage) {\n  const booksCollection = refs.shoppingList.querySelectorAll('.shopping-item');\n\n  let counter = 0;\n  let number = 1;\n  booksCollection.forEach(el => {\n    el.classList.remove('hidden');\n    el.dataset.pageNumber = number;\n    if (number !== selectedPage) {\n      el.classList.add('hidden');\n    }\n\n    counter++;\n    if (counter === 3) {\n      counter = 0;\n      number++;\n    }\n  });\n}\n\nexport async function isShoppingListEmpty() {\n  const booksCollection = refs.shoppingList.querySelectorAll('.shopping-item');\n\n  if (booksCollection) {\n    if (booksCollection.length === 0) {\n      refs.emptyPage.classList.remove('hidden');\n      refs.pagesContainer.classList.add('hidden');\n      return;\n    }\n\n    if (booksCollection.length > 3) {\n      let selectedPage = document.querySelector('.tui-is-selected').innerText;\n      const booksCount = booksCollection.length % 3;\n      const booksDivid = booksCollection.length / 3;\n      if (+booksCount === 0 && +booksDivid === selectedPage - 1) {\n        selectedPage = selectedPage - 1;\n      }\n      selectedPage = !selectedPage ? 1 : selectedPage;\n      paginationChange(+selectedPage);\n      createButtonsPagination(selectedPage);\n      refs.pagesContainer.classList.remove('hidden');\n    } else {\n      paginationChange(1);\n      refs.pagesContainer.classList.add('hidden');\n    }\n  }\n}\n","import { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  updateProfile,\n  onAuthStateChanged,\n} from 'firebase/auth';\nimport { getDatabase, ref, get, set } from 'firebase/database';\nimport iziToast from 'izitoast';\nimport icon from '../img/icons.svg';\n\nimport { toggleAuthen } from './authorization-functions';\nimport { checkIsThereElementOnPage } from './shopping';\nconst headerSubmitCont = document.querySelector('.authentication-buttons');\nconst headerSubmitContMob = document.querySelector(\n  '.authentication-buttons-mob'\n);\n\n// Инициализация Firebase\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAVC9h8-zdX_Zwfa8u_SlIxJpF4-2QNWH4',\n  authDomain: 'bookshelf-pronto.firebaseapp.com',\n  databaseURL:\n    'https://bookshelf-pronto-default-rtdb.europe-west1.firebasedatabase.app',\n  projectId: 'bookshelf-pronto',\n  storageBucket: 'bookshelf-pronto.appspot.com',\n  messagingSenderId: '1040567130254',\n  appId: '1:1040567130254:web:b46de7db5d5f846b0f51df',\n  measurementId: 'G-7YPT2SGB8V',\n};\n\ninitializeApp(firebaseConfig);\n\n// Получение ссылки на экземпляр аутентификации Firebase\nconst auth = getAuth();\n\nfunction getCurrentUser() {\n  return new Promise((resolve, reject) => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      unsubscribe();\n      if (user) {\n        resolve(user);\n      } else {\n        resolve('');\n      }\n    });\n  });\n}\n\n// Обработчик отправки формы регистрации\nconst signUpForm = document.querySelector('.authentication-form-signup');\nif (signUpForm) {\n  signUpForm.addEventListener('submit', signUpEvent);\n}\n\nasync function signUpEvent(e) {\n  e.preventDefault();\n\n  if (!signUpForm.classList.contains('disable')) {\n    const name = signUpForm.querySelector('#name-up').value;\n    const email = signUpForm.querySelector('#email-up').value;\n    const password = signUpForm.querySelector('#password-up').value;\n\n    disableForm(signUpForm);\n    emptyError(signUpForm);\n    await signUp(signUpForm, name, email, password);\n    removeDisableForm(signUpForm);\n  }\n}\n\nasync function signUp(form, name, email, password) {\n  try {\n    // Регистрация нового пользователя с использованием электронной почты, пароля и имени\n    const userCredential = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n\n    // Установка имени пользователя\n    await updateProfile(userCredential.user, {\n      displayName: name,\n    });\n\n    // Дополнительные действия при успешной регистрации\n    await addBooksJson();\n    await authState();\n    sucessMassage('Registration');\n    toggleAuthen(false);\n  } catch (error) {\n    // Обработка ошибок регистрации\n    showError(form, error.code);\n  }\n}\n\n// Обработчик отправки формы входа\nconst signInForm = document.querySelector('.authentication-form-signin');\nif (signInForm) {\n  signInForm.addEventListener('submit', signInEvent);\n}\n\nasync function signInEvent(e) {\n  e.preventDefault();\n\n  if (!signInForm.classList.contains('disable')) {\n    const email = signInForm.querySelector('#email-in').value;\n    const password = signInForm.querySelector('#password-in').value;\n\n    disableForm(signInForm);\n    emptyError(signInForm);\n    await signIn(signInForm, email, password);\n    removeDisableForm(signInForm);\n  }\n}\n\nasync function signIn(form, email, password) {\n  try {\n    // Вход пользователя с использованием электронной почты и пароля\n    const userCredential = await signInWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n    // Дополнительные действия при успешном входе\n    sucessMassage('Authorization');\n    toggleAuthen(false);\n  } catch (error) {\n    // Обработка ошибок входа\n    showError(form, error.code);\n  }\n}\n\n//Logout\nheaderSubmitCont.addEventListener('click', logOutFunc);\nheaderSubmitContMob.addEventListener('click', logOutFunc);\n\nfunction logOutFunc(e) {\n  const targetIs = e.target.classList.contains('log-out');\n\n  if (targetIs) {\n    auth\n      .signOut()\n      .then(function () {\n        sucessMassage('Log out');\n      })\n      .catch(function (error) {\n        errorMassage('Unable to log out');\n      });\n  }\n}\n\nasync function authState() {\n  try {\n    onAuthStateChanged(auth, user => {\n      renderAuthHeader(user);\n      checkIsThereElementOnPage();\n      booksCount();\n    });\n  } catch (error) {\n    console.error('Check error:', error.code);\n  }\n}\n\nfunction renderAuthHeader(user) {\n  const authContainer = document.querySelector('.authentication-buttons');\n  const authContainerMob = document.querySelector(\n    '.authentication-buttons-mob'\n  );\n\n  if (!user) {\n    const noneAuthState = `<button type=\"button\" class=\"header-btn-submit\">Sing up\n    <svg width=\"20\" height=\"20\" class=\"header-sing-svg\">\n      <use href=\"${icon}#icon-header-vector-log-left\"></use>\n    </svg>\n  </button>`;\n\n    authContainer.innerHTML = noneAuthState;\n    authContainerMob.innerHTML = noneAuthState;\n  } else {\n    const name = user.displayName;\n    const AuthState = `<div class=\"authorized\">\n    <button type=\"button\" class=\"authorized-btn\">\n      <div class=\"authorized-data\">\n        <div class=\"authorized-ava-wrap\">\n          <svg width=\"19\" height=\"19\">\n          <use href=\"${icon}#icon-header-user\"></use>\n        </svg>\n        </div>\n        <p class=\"authorized-name\">${name}</p>\n      </div>\n      <div class=\"authorized-vector-wrap\">\n        <svg width=\"23\" height=\"26\" class=\"authorized-vector\">\n          <use href=\"${icon}#icon-header-vector-down\"></use>\n        </svg>\n      </div>\n    </button>\n    <button type=\"button\" class=\"log-out\">\n      Log out\n      <svg width=\"20\" height=\"20\" class=\"header-sing-svg\">\n        <use href=\"${icon}#icon-header-vector-log-left\"></use>\n      </svg>\n    </button>\n  </div>`;\n\n    authContainer.innerHTML = AuthState;\n    authContainerMob.innerHTML = AuthState;\n  }\n}\n\nauthState();\n\n//Add disable to form\nfunction disableForm(form) {\n  form.classList.add('disable');\n}\n\nfunction removeDisableForm(form) {\n  form.classList.remove('disable');\n}\n\nfunction showError(form, errorCode) {\n  let errorText = 'An unknown error has occurred. Please try again.';\n  const errorCont = form.querySelector('.authentication-errorcont');\n\n  if (errorCode === 'auth/email-already-in-use') {\n    errorText = 'A user with this email address already exists.';\n  }\n\n  if (errorCode === 'auth/invalid-credential') {\n    errorText = 'Incorrect login or password';\n  }\n\n  if (errorCode === 'auth/weak-password') {\n    errorText = 'Your password is too weak';\n  }\n\n  errorCont.innerHTML = `<p class=\"auth-error\">${errorText}</p>`;\n}\n\nfunction emptyError(form) {\n  const errorCont = form.querySelector('.authentication-errorcont');\n  errorCont.innerHTML = '';\n}\n\nfunction sucessMassage(type) {\n  iziToast.success({\n    message: `${type} is successful`,\n    position: 'bottomRight',\n    icon: null,\n  });\n}\n\nfunction errorMassage(text) {\n  iziToast.error({\n    message: text,\n    position: 'bottomRight',\n    icon: null,\n  });\n}\n\n////////////////////////////////////\n////////////////////////////////////\n////////////////////////////////////\nconst database = getDatabase();\n\nfunction writeBooksData(userId, dataJson) {\n  set(ref(database, 'users/' + userId), {\n    shippinglist: dataJson,\n  });\n}\n\nasync function getBooksData(userId) {\n  const shippingListRef = ref(database, 'users/' + userId + '/shippinglist');\n\n  try {\n    const snapshot = await get(shippingListRef);\n    if (snapshot.exists()) {\n      return snapshot.val();\n    } else {\n      return null;\n    }\n  } catch (error) {\n    console.error('Error getting data:', error);\n    return null;\n  }\n}\n\nexport async function addBooksJson(shoppingList) {\n  if (!shoppingList) {\n    shoppingList = localStorage.getItem('shoppinglist') || '';\n  }\n\n  booksCount(shoppingList);\n\n  const user = await getCurrentUser()\n    .then(user => {\n      return user;\n    })\n    .catch(error => {\n      return '';\n    });\n\n  if (!user) {\n    localStorage.setItem('shoppinglist', shoppingList);\n  } else {\n    const userId = user.uid;\n\n    if (shoppingList) {\n      writeBooksData(userId, shoppingList);\n    }\n  }\n}\n\nexport const getBooksJson = async () => {\n  const user = await getCurrentUser()\n    .then(user => {\n      return user;\n    })\n    .catch(error => {\n      return '';\n    });\n\n  if (!user) {\n    return localStorage.getItem('shoppinglist');\n  } else {\n    const userId = user.uid;\n\n    return getBooksData(userId);\n  }\n};\n\nasync function booksCount(books) {\n  if (!books) {\n    books = await getBooksJson()\n      .then(user => {\n        return user;\n      })\n      .catch(error => {\n        return '';\n      });\n  }\n  const booksParsed = JSON.parse(books).length;\n  const headerShip = document.querySelector('.header-shopping span');\n  const headerShipModal = document.querySelector('.header-shopping-modal span');\n\n  if (booksParsed > 0) {\n    headerShip.innerHTML = `<span>${booksParsed}</span>`;\n    headerShipModal.innerHTML = `<span>${booksParsed}</span>`;\n  } else {\n    headerShip.innerHTML = '';\n    headerShipModal.innerHTML = '';\n  }\n}\n","import { fetchBookById } from './fetch-api';\nimport { getBooksJson, addBooksJson } from './authorization';\n\nexport const saveBookToLocalStorage = async bookId => {\n  try {\n    const bookData = await fetchBookById(bookId);\n    const shoppingList = JSON.parse(getBooksJson()) || [];\n\n    shoppingList.push(bookData);\n\n    localStorage.setItem('shoppinglist', JSON.stringify(shoppingList));\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const removeBookFromLocalStorage = async bookId => {\n  const booksJson = await getBooksJson();\n  const shoppinglist = JSON.parse(booksJson) || [];\n  const filteredList = shoppinglist.filter(item => item._id !== bookId);\n  await addBooksJson(JSON.stringify(filteredList));\n};\n","// ==============================================================\n\nconst refs = {\n  body: document.querySelector('body'),\n  burger: document.querySelector('.header-btn-burgher'),\n  headerNav: document.querySelector('.header-menu'),\n  headerLink: document.querySelectorAll('.header-nav-item-modal'),\n\n  home: document.querySelector('.header-home'),\n  shopping: document.querySelector('.header-shopping'),\n  homeMobal: document.querySelector('.header-home-modal'),\n  shoppingMobal: document.querySelector('.header-shopping-modal'),\n};\n\n// ========================= Bugrer =========================\n\nfunction handleHeaderLinkClick() {\n  refs.burger.classList.toggle('active');\n  refs.headerNav.classList.toggle('active');\n  refs.body.classList.toggle('lock');\n}\n\nrefs.burger.addEventListener('click', handleHeaderLinkClick);\n\n// =========================== Home and Shopping ===========================\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  refs.home.classList.add('active');\n  refs.homeMobal.classList.add('active');\n});\n\nif (window.location.href.includes('index.html')) {\n  window.addEventListener('DOMContentLoaded', () => {\n    refs.home.classList.add('active');\n    refs.shopping.classList.remove('active');\n\n    refs.homeMobal.classList.add('active');\n    refs.shoppingMobal.classList.remove('active');\n  });\n} else if (window.location.href.includes('shopping.html')) {\n  window.addEventListener('DOMContentLoaded', () => {\n    refs.home.classList.remove('active');\n    refs.shopping.classList.add('active');\n\n    refs.homeMobal.classList.remove('active');\n    refs.shoppingMobal.classList.add('active');\n  });\n}\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.swiper', {\n  direction: 'vertical',\n  loop: false,\n  initialSlide: 0,\n  speed: 500,\n  slidesPerView: 6,\n  effect: 'slide',\n  rewind: true,\n  breakpoints: {\n    292: {\n      slidesPerView: 6,\n    },\n  },\n  spaceBetween: 20,\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  shortSwipes: false,\n  // Вимкнути прокрутку за допомогою клавіші LKM\n  preventClicks: true,\n  // Вимкнути події миші\n  disableMouseEvents: true,\n});\nswiper.allowTouchMove = false;\n\nswiper.on('slideChange', function () {\n  if (swiper.isEnd) {\n    swiper.allowTouchMove = false;\n  } else {\n    swiper.allowTouchMove = true;\n  }\n});\n\nconst customButton = document.querySelector('.swiper-button');\n\ncustomButton.addEventListener('click', function () {\n  if (swiper.activeIndex === 2) {\n    customButton.classList.add('rotate');\n  } else {\n    customButton.classList.remove('rotate');\n  }\n  if (swiper.activeIndex < swiper.slides.length - 1) {\n    swiper.slideNext();\n  } else {\n    swiper.slideTo(0);\n  }\n});\n","import { fetchBookById } from './fetch-api';\nimport { removeBookFromLocalStorage } from './local-storage';\nimport iconClose from '../img/icons.svg';\nimport amazonImg from '../img/shopping/amazon.png';\nimport apple from '../img/shopping/book-apple.png';\nimport { getBooksJson, addBooksJson } from './authorization';\n\n// ==============================================================\n// функція спрацьовує при кліку на QUICK VIEW\n// ==============================================================\n\nexport async function popup() {\n  const booksList = document.querySelector('.books-container');\n\n  if (booksList) {\n    booksList.addEventListener('click', onBookLinkClick);\n  }\n\n  async function onBookLinkClick(event) {\n    if (event.target.classList.contains('books-overlay')) {\n      const bookId = event.target.dataset.id;\n      const bookData = await fetchBookById(bookId);\n\n      openModal(bookData);\n    }\n  }\n}\n\n// ==============================================================\n// логіка відкриття та закриття модалки\n// ==============================================================\n\nasync function openModal(bookData) {\n  const backdrop = document.querySelector('.popup-backdrop');\n  const popupBookWrapper = document.querySelector('.popup-window');\n\n  popupBookWrapper.innerHTML = '';\n  const markup = template(bookData);\n  popupBookWrapper.insertAdjacentHTML('beforeend', markup);\n\n  const closeBtn = document.querySelector('.popup-close-btn');\n  showModal();\n  checkLocalStorage();\n  await clickOnAddToShopingListBtn();\n\n  backdrop.addEventListener('click', onBackdropClick);\n  document.addEventListener('keydown', onEscClick);\n  closeBtn.addEventListener('click', onClickCloseBtn);\n  document.addEventListener('keydown', onSpaceButtonClick);\n\n  function onSpaceButtonClick(event) {\n    if (event.keyCode === 32) {\n      event.preventDefault();\n    }\n  }\n\n  function showModal() {\n    backdrop.classList.add('is-active');\n    document.body.classList.add('modal-open');\n  }\n\n  function onClickCloseBtn() {\n    hideModal();\n    closeBtn.removeEventListener('click', onClickCloseBtn);\n    document.removeEventListener('keydown', onSpaceButtonClick);\n  }\n\n  function onBackdropClick(event) {\n    if (event.target === event.currentTarget) {\n      hideModal();\n      backdrop.removeEventListener('click', onBackdropClick);\n      document.removeEventListener('keydown', onSpaceButtonClick);\n    }\n  }\n\n  function onEscClick(event) {\n    if (event.keyCode === 27) {\n      hideModal();\n      document.removeEventListener('keydown', onEscClick);\n      document.removeEventListener('keydown', onSpaceButtonClick);\n    }\n  }\n\n  function hideModal() {\n    backdrop.classList.remove('is-active');\n    document.body.classList.remove('modal-open');\n  }\n}\n\n// ==============================================================\n// логіка перевірки LocalStorage та відпрацювання кнопки ADD TO SHOPPING LIST\n// ==============================================================\n\nasync function checkLocalStorage() {\n  const addToShoppingListBtn = document.querySelector(\n    '.popup-book-btn-add-to-shopinglist'\n  );\n  const bookId = addToShoppingListBtn.dataset.id;\n  const booksJson = await getBooksJson();\n  const localStorageData = JSON.parse(booksJson) || [];\n\n  const bookInLocalStorage = localStorageData\n    .map(element => element._id)\n    .includes(bookId);\n\n  if (bookInLocalStorage) {\n    addToShoppingListBtn.textContent = 'REMOVE FROM THE SHOPPING LIST';\n    addToShoppingListBtn.insertAdjacentHTML('afterend', templateForBtn());\n  } else {\n    addToShoppingListBtn.textContent = 'ADD TO SHOPPING LIST';\n  }\n}\n\nasync function setToLocalStorage(bookData) {\n  const booksJson = await getBooksJson();\n  const shoppingList = JSON.parse(booksJson) || [];\n  shoppingList.push(bookData);\n  await addBooksJson(JSON.stringify(shoppingList));\n}\n\nasync function clickOnAddToShopingListBtn() {\n  const addToShoppingListBtn = document.querySelector(\n    '.popup-book-btn-add-to-shopinglist'\n  );\n  const bookId = addToShoppingListBtn.dataset.id;\n  const bookData = await fetchBookById(bookId);\n\n  addToShoppingListBtn.addEventListener('click', addToShoppingListBtnHandler);\n\n  async function addToShoppingListBtnHandler() {\n    const booksJson = await getBooksJson();\n    const localStorageData = JSON.parse(booksJson) || [];\n\n    const bookInLocalStorage = localStorageData\n      .map(element => element._id)\n      .includes(bookId);\n\n    if (!bookInLocalStorage) {\n      setToLocalStorage(bookData);\n\n      addToShoppingListBtn.textContent = 'REMOVE FROM THE SHOPPING LIST';\n      addToShoppingListBtn.insertAdjacentHTML('afterend', templateForBtn());\n    } else {\n      await removeBookFromLocalStorage(bookId);\n\n      document.querySelector('.under-btn-text').remove();\n      addToShoppingListBtn.textContent = 'ADD TO SHOPPING LIST';\n    }\n  }\n}\n\n// ==============================================================\n// шаблон динамічної частини модалки\n// ==============================================================\nfunction template(obj) {\n  const { _id, author, title, book_image, buy_links, description = '' } = obj;\n  const [amazon, appleBook] = buy_links;\n\n  return `<button class=\"popup-close-btn\">\n      <svg class=\"popup-close-btn-icon\" width=\"28\" height=\"28\">\n        <use href=\"${iconClose}#icon-header-close\"></use>\n      </svg>\n    </button>\n    <div class=\"popup-book\">\n      <div class=\"popup-wrap-img\">\n        <img class=\"popup-book-image\" src=\"${book_image}\" alt=\"обкладинка\" />\n      </div>\n      <div class=\"popup-book-content\">\n        <h4 class=\"popup-book-title\">${title}</h4>\n        <p class=\"popup-book-author\">${author}</p>\n        <p class=\"popup-book-review\">${description}</p>\n        <ul class=\"popup-shopping-links\">\n          <li>\n            <a\n              href=\"${amazon.url}\"\n              target=\"blank\"\n              rel=\"nofollow noopener noreferrer\"\n              aria-label=\"Link to shop\"\n              class=\"amazon popup-shopping-links-icon\"\n            >\n              <img\n                src=\"${amazonImg}\"\n                class=\"popup-shopping-links-icon\"\n                alt=\"Logo of shop\"\n                width=\"62\"\n              />\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"${appleBook.url}\"\n              target=\"blank\"\n              rel=\"nofollow noopener noreferrer\"\n              aria-label=\"Link to shop\"\n              class=\"book popup-shopping-links-icon\"\n            >\n              <img\n                src=\"${apple}\"\n                alt=\"Logo of shop\"\n                width=\"33\"\n              />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"popup-book-btn-add\">\n      <button\n        type=\"button\"\n        class=\"popup-book-btn-add-to-shopinglist\"\n        data-id=\"${_id}\"\n        id=\"add\"\n        aria-label=\"Add card to shopping list\"\n      ></button>\n    </div>`;\n}\n\nfunction templateForBtn() {\n  return `\n      <p class=\"under-btn-text\">\n        Congratulations! You have added the book to the shopping list. To\n        delete, press the button \"Remove from the shopping list\".\n      </p>\n    `;\n}\n","import { fetchGeneral, fetchCategories, fetchCategory } from './fetch-api';\nimport { popup } from './popup';\nimport scrollToElement from 'scroll-to-element';\n\n//Containers\nconst booksContainer = document.querySelector('.books-container');\nconst catsContainer = document.querySelector('.categories-menu');\n\n// ==============================================================\n//Function for display books\nlet popupIsStarted;\nasync function displayTop() {\n  addingLoader();\n  const windowWidth = window.innerWidth;\n  const booksPerRowForDisplay = booksPerRowFunc(windowWidth);\n  const renderedTop = await fetchGeneral(booksPerRowForDisplay);\n\n  booksContainer.innerHTML = renderedTop;\n  if (!popupIsStarted) {\n    popup();\n    popupIsStarted = true;\n  }\n\n  wrapLastWord();\n}\n\n// ==============================================================\n//Function for display categories\nasync function displayCategories() {\n  const renderedCats = await fetchCategories();\n\n  catsContainer.innerHTML = renderedCats;\n}\n\n// ==============================================================\n//Function for display category books\nasync function displayCategory(catName) {\n  addingLoader();\n\n  const renderedCat = await fetchCategory(catName);\n\n  booksContainer.innerHTML = renderedCat;\n  wrapLastWord();\n}\n\n// ==============================================================\n//Function for wrapp last title word\nasync function wrapLastWord() {\n  const title = document.querySelector('.books-title');\n  const textContent = title.textContent.split(' ');\n  const lastWord = textContent.pop();\n\n  const updatedContent =\n    textContent.join(' ') +\n    (textContent.length > 0\n      ? ` <span  class=\"books-title-color\">${lastWord}</span>`\n      : lastWord);\n\n  title.innerHTML = updatedContent;\n}\n\n//Fontiono for detectiong books per row\nfunction booksPerRowFunc(windowWith) {\n  let booksCount = 5;\n\n  if (windowWith >= 1440) {\n    booksCount = 5;\n  }\n\n  if (windowWith >= 768 && windowWith < 1440) {\n    booksCount = 3;\n  }\n\n  if (windowWith < 768) {\n    booksCount = 1;\n  }\n\n  return booksCount;\n}\n\n//function for change books display\nconst windowWidthStart = window.innerWidth;\nlet ctrlBreikpoint = booksPerRowFunc(windowWidthStart);\n\nasync function changeTopDisplay() {\n  const AllCats = document.querySelector('.categories-nav.active');\n\n  if (AllCats) {\n    const isAllCats = AllCats.dataset.catname;\n\n    if (!isAllCats) {\n      const windowWidth = window.innerWidth;\n      const booksPerRow = booksPerRowFunc(windowWidth);\n\n      if (ctrlBreikpoint !== booksPerRow) {\n        ctrlBreikpoint = booksPerRow;\n\n        addingLoader();\n        await displayTop();\n        wrapLastWord();\n      }\n    }\n  }\n}\n\n// ==============================================================\nif (booksContainer) {\n  displayTop();\n  displayCategories();\n\n  catsContainer.addEventListener('click', e => {\n    e.preventDefault();\n\n    const target = e.target;\n\n    if (target.tagName === 'A') {\n      const catName = target.dataset.catname;\n\n      catsContainer.querySelector('.active').classList.remove('active');\n      target.classList.add('active');\n\n      scrollToElement(booksContainer, {\n        offset: -24,\n        duration: 500,\n      });\n\n      if (catName) {\n        displayCategory(catName);\n      } else {\n        displayTop();\n      }\n    }\n  });\n\n  booksContainer.addEventListener('click', e => {\n    e.preventDefault();\n\n    const target = e.target;\n\n    if (target.classList.contains('books-btn')) {\n      const catName = target.dataset.catname;\n\n      catsContainer.querySelector('.active').classList.remove('active');\n      catsContainer\n        .querySelector('[data-catname=\"' + catName + '\"]')\n        .classList.add('active');\n\n      scrollToElement(booksContainer, {\n        offset: -24,\n        duration: 700,\n      }).on('end', () => {\n        displayCategory(catName);\n      });\n    }\n  });\n\n  window.addEventListener('resize', changeTopDisplay);\n}\n\n//Loader function\nfunction addingLoader() {\n  booksContainer.innerHTML =\n    '<li class=\"loader-container\"><span class=\"loader\"></span></li>';\n}\n"],"names":["toggleBtn","setTheme","themeName","scrollToTopBtn","lastScrollTop","currentScroll","iconClose","renderTop","data","booksPerRow","getEmtyCategoryHtml","el","catName","books","renderOneBook","renderCategories","a","b","iziToast","icon","renderCategory","categoryName","_id","book_image","title","author","BASEURL","savedFetch","fetchGeneral","fetchUrl","response","axios","error","savedCatsFetch","fetchCategories","fetchCategory","params","fetchBookById","id","endpoint","elements","toggleAuthen","open","showSignUpForm","showSignInForm","amazonImg","apple","refs","getVisiblePagesNumber","createButtonsPagination","selectedPage","visiblePageNumber","options","Pagination","eventData","checkFirstPage","checkPageNumberOfBooks","book","currentPage","bookCollection","currentBooks","notCurrentBook","perPage","checkIsThereElementOnPage","islocalStorageEmpty","isShoppingListEmpty","booksJson","getBooksJson","createMarkup","elementsMarkup","amazon","markupRender","markup","addListenersToRemoveButtons","chunkArray","checkQuantityElements","myArray","chunk_size","index","tempArray","myChunk","pageNumber","pageBooks","addPageNumber","booksGroup","booksCollection","removeBook","evt","currentBook","bookId","removeBookFromLocalStorage","paginationChange","counter","number","booksCount","booksDivid","headerSubmitCont","headerSubmitContMob","firebaseConfig","initializeApp","auth","getAuth","getCurrentUser","resolve","reject","unsubscribe","onAuthStateChanged","user","signUpForm","signUpEvent","name","email","password","disableForm","emptyError","signUp","removeDisableForm","form","userCredential","createUserWithEmailAndPassword","updateProfile","addBooksJson","authState","sucessMassage","showError","signInForm","signInEvent","signIn","signInWithEmailAndPassword","logOutFunc","errorMassage","renderAuthHeader","authContainer","authContainerMob","AuthState","noneAuthState","errorCode","errorText","errorCont","type","text","database","getDatabase","writeBooksData","userId","dataJson","set","ref","getBooksData","shippingListRef","snapshot","get","shoppingList","booksParsed","headerShip","headerShipModal","filteredList","item","handleHeaderLinkClick","swiper","Swiper","customButton","popup","booksList","onBookLinkClick","event","bookData","openModal","backdrop","popupBookWrapper","template","closeBtn","showModal","checkLocalStorage","clickOnAddToShopingListBtn","onBackdropClick","onEscClick","onClickCloseBtn","onSpaceButtonClick","hideModal","addToShoppingListBtn","element","templateForBtn","setToLocalStorage","addToShoppingListBtnHandler","obj","buy_links","description","appleBook","booksContainer","catsContainer","popupIsStarted","displayTop","addingLoader","windowWidth","booksPerRowForDisplay","booksPerRowFunc","renderedTop","wrapLastWord","displayCategories","renderedCats","displayCategory","renderedCat","textContent","lastWord","updatedContent","windowWith","windowWidthStart","ctrlBreikpoint","changeTopDisplay","AllCats","target","scrollToElement"],"mappings":"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"}